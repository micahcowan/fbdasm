# STACK: This document is a "note to self" that I use
# to keep track of what code I'm currently analyzing, and how I got
# there, so I can work my way back up to find the next bit of code
# to work on for some larger, overall routine.
#
# Unlike a 6502 CPU stack, all addresses given are the actual address
# (and not one less).

SEARCH STACK:
  any ??? or XXX comments

BRANCH STACK:

  CmdFn_BGTOOL

  Update InitVars and InitPpuApu with zp vars now that PLAY vars are
   (hopefull) known
  .
  CmdFn_PLAY
  NMICMD_PlayMusic
    $A0A3 - after synching APU frame counter

  All routines in tbl_Commands and tbl_Functions
    start with low-hanging fruit, then work back through
    (tbl_Functions will tend to be all low-hanging)

    punted:
      BGTOOL
      PRINT
      FOR
      NEXT
      INPUT
      LINPUT
      IF
      ON
      FIND
    next:
      RENUM

    done:

  BAD CODE: stupid constant-space strings

  BUG: DEF SPRITE uses $20 (SPACE) as the id for an "empty" sprite tile, but for sprites that actually maps to Lady's face! Can't leave any sprite tiles undef'd.

  BUG: document that DATA token (small e) within comments is detected as DATA and handled accordingly. This is because it loops over SkipToken until it sees the DATA token, but SkipToken doesn't skip comments, just the REM or ' and each individual char after until it hits the token! (confirmed for both v2 and v3!)

  Document that NMI toggles between bg updates and sprite updates, when
   anims active, and how animation works
  Document how vars are stored in VARTAB, in DETAILS.md (and BUGS.md)
  Document keyboard mapping, and how fn keys work with ReadChar

Arrays: DIM A$(10)

  var name     max idx dim1
     +--\         |
     |   |        |
Var type |  n.dimens   max idx dim2
|    |   |     |  |     |
$83 $41 $00 | $00 $0A [$04]   <-- (first byte of first element...)
|    |   |     |  |     |
$02 $49 $00 | $01 $03 $03
